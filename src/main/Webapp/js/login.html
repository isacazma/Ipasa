<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />


</head>
<body>
<
<main class="mb-4">
    <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <p>Voer uw inloggegevens in.</p>
                <div class="my-5">
                    <form id="inloggen">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="gebruikersnaam" name="gebruikersnaam" placeholder="Gebruikersnaam" required/>
                            <label for="gebruikersnaam">Gebruikersnaam: </label>
                        </div>
                        <div class="form-floating">
                            <input type="password" class="form-control" id="wachtwoord" name="wachtwoord" placeholder="Wachtwoord"required/>
                            <label for="wachtwoord">Wachtwoord: </label>
                        </div>
                        <br>
                        <input type="button" id="login_button" value="login" onclick="login()"/>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>


<!-- Core theme JS-->
<script>
        document.addEventListener("load", event => {
            document.querySelector("login_button").addEventListener("click", login);
            document.querySelector("Secure_button").addEventListener("click", secure);
        });

        async function login() {
            console.log("login")
            var formData = new FormData(document.querySelector("#inloggen"));
            var encData = new URLSearchParams(formData.entries());


            let response = await fetch("restservices/login", {method: "POST", body: encData})


            if (response.status === 200) {
                let myJson = await response.json();
                window.sessionStorage.setItem("abc", myJson.JWT);
                // window.sessionStorage.setItem("username", username);
            } else {
                console.log('login failed...');
            }
        }

        function secure(){
            console.log("secure")
        }

    </script>





</body>
</html>

